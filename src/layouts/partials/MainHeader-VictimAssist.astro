---
// MainHeader-CSS.astro
// CSS-only header for Claims Advocacy (Tailwind)
// Replace previous header import with this file.
---
<header class="bg-white shadow-sm sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16 items-center">
      <div class="flex items-center">
        <!-- Logo -->
        <a href="/" class="inline-flex items-center gap-3">
          <svg class="w-9 h-9 text-blue-700" viewBox="0 0 24 24" fill="none" aria-hidden>
            <path d="M12 2L3 7v6c0 5 3.6 9.4 9 11 5.4-1.6 9-6 9-11V7l-9-5z" fill="currentColor" />
            <rect x="8" y="11" width="8" height="7" rx="1" fill="#fff" />
          </svg>
          <span class="text-lg font-semibold tracking-tight text-gray-900">Claims Advocacy</span>
        </a>

        <!-- Desktop nav -->
        <nav class="hidden lg:flex lg:ml-8 lg:space-x-4 lg:items-center" aria-label="Main Navigation">
          <a href="#" class="px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-700">How it works</a>

          <!-- Dropdown wrapper uses :hover and :focus-within -->
          <div class="relative dropdown">
            <button class="px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-700 focus:outline-none" aria-haspopup="true">
              Resources
              <svg class="inline-block w-4 h-4 ml-1 text-gray-500" viewBox="0 0 20 20" fill="currentColor" aria-hidden>
                <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.586l3.71-4.356a.75.75 0 111.14.976l-4.25 5a.75.75 0 01-1.14 0l-4.25-5a.75.75 0 01.02-1.06z" clip-rule="evenodd"/>
              </svg>
            </button>

            <!-- Dropdown menu: hidden by default, visible on hover/focus-within -->
            <div class="dropdown-menu absolute left-0 mt-0 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 transform origin-top transition-all duration-150 opacity-0 scale-y-95 pointer-events-none z-50">
              <div class="py-1">
                <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">Hotlines & Crisis</a>
                <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">Legal aid</a>
                <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">Counseling & Therapy</a>
                <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">Shelters & Safe Housing</a>
              </div>
            </div>
          </div>

          <div class="relative dropdown">
            <button class="px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-700 focus:outline-none" aria-haspopup="true">
              Crime Types
              <svg class="inline-block w-4 h-4 ml-1 text-gray-500" viewBox="0 0 20 20" fill="currentColor" aria-hidden>
                <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.586l3.71-4.356a.75.75 0 111.14.976l-4.25 5a.75.75 0 01-1.14 0l-4.25-5a.75.75 0 01.02-1.06z" clip-rule="evenodd"/>
              </svg>
            </button>

            <div class="dropdown-menu absolute left-0 mt-0 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 transform origin-top transition-all duration-150 opacity-0 scale-y-95 pointer-events-none z-50">
              <div class="py-1">
                <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">Domestic Violence</a>
                <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">Assault & Battery</a>
                <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">Robbery & Theft</a>
                <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">Homicide (family support)</a>
              </div>
            </div>
          </div>

          <a href="#" class="px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-700">Cities</a>
          <a href="/blog" class="px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-700">Blog</a>
          <a href="#" class="px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-700">About</a>
        </nav>
      </div>

      <!-- Right side -->
      <div class="flex items-center">
        <div class="hidden lg:flex lg:items-center lg:space-x-3">
          <a href="#" class="px-3 py-2 rounded-md text-sm font-medium bg-blue-600 text-white hover:bg-blue-700">Start Application</a>
          <a href="#" class="px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-blue-700">Call Helpline</a>
        </div>

        <!-- Mobile: use details/summary to toggle menu (no JS) -->
        <div class="lg:hidden ml-2">
          <details class="relative">
            <summary class="flex items-center p-2 rounded-md cursor-pointer text-gray-700 hover:bg-gray-100">
              <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"/></svg>
            </summary>

            <div class="absolute right-0 mt-2 w-72 bg-white shadow-lg rounded-md ring-1 ring-black ring-opacity-5">
              <div class="p-3 space-y-1">
                <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50">How it works</a>

                <details class="pl-2">
                  <summary class="px-3 py-2 cursor-pointer text-sm font-medium text-gray-700 hover:bg-gray-50">Resources</summary>
                  <div class="pl-4">
                    <a href="#" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50">Hotlines & Crisis</a>
                    <a href="#" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50">Legal aid</a>
                    <a href="#" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50">Counseling</a>
                    <a href="#" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50">Shelters</a>
                  </div>
                </details>

                <details class="pl-2">
                  <summary class="px-3 py-2 cursor-pointer text-sm font-medium text-gray-700 hover:bg-gray-50">Crime Types</summary>
                  <div class="pl-4">
                    <a href="#" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50">Domestic Violence</a>
                    <a href="#" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50">Assault</a>
                    <a href="#" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50">Robbery</a>
                    <a href="#" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50">Homicide</a>
                  </div>
                </details>

                <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50">Cities</a>
                <a href="/blog" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50">Blog</a>
                <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50">About</a>

                <div class="mt-3">
                  <a href="#" class="block w-full text-center px-4 py-2 rounded-md bg-blue-600 text-white font-medium">Start Application</a>
                  <a href="#" class="block w-full text-center px-4 py-2 rounded-md border border-gray-200 font-medium mt-2">Call Helpline</a>
                </div>
              </div>
            </div>
          </details>
        </div>
      </div>
    </div>
  </div>

  <style>
    /* ===== Replace your current dropdown CSS with this block ===== */

/* initial hidden state */
.dropdown-menu {
  position: absolute;
  left: 0;
  top: 100%;               /* flush directly under the button */
  margin-top: 0;           /* remove margin gap that caused pointer to escape */
  width: 14rem;            /* 56 = 14rem */
  border-radius: 0.5rem;
  background: white;
  box-shadow: 0 10px 30px rgba(2,6,23,0.08);
  transform: translateY(6px) scaleY(0.985); /* small visual offset */
  transform-origin: top;
  opacity: 0;
  pointer-events: none;    /* disabled until hover/focus */
  transition: opacity 140ms ease, transform 140ms ease;
  z-index: 60;
}

/* visible state (when parent is hovered or focused) */
.dropdown:hover > .dropdown-menu,
.dropdown:focus-within > .dropdown-menu {
  opacity: 1 !important;
  transform: translateY(0) scaleY(1) !important;
  pointer-events: auto !important; /* make links clickable instantly */
}

/* ensure the button sits above the menu to avoid accidental overlap */
.dropdown > button {
  position: relative;
  z-index: 70;
}

/* optional: slightly speed up the hide animation for snappy feel */
.dropdown-menu[style] {
  will-change: transform, opacity;
}

/* keyboard focus visual - keep accessible */
.dropdown:focus-within > button {
  outline: 2px solid rgba(59,130,246,0.15);
  outline-offset: 2px;
}

  </style>
</header>
